datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model award {
  awardid   Int         @id
  awardname String?     @db.VarChar(64)
  teamaward teamaward[]
}

model event {
  eventid                              String      @id @db.VarChar(16)
  eventtype                            Int
  name                                 String      @db.VarChar(255)
  week                                 Int?
  enddate                              DateTime    @db.Date
  eventtype_event_eventtypeToeventtype eventtype   @relation("event_eventtypeToeventtype", fields: [eventtype], references: [eventtype], onDelete: NoAction, onUpdate: NoAction)
  teamaward                            teamaward[]
}

model eventtype {
  eventtype                        Int     @id
  description                      String  @db.VarChar(32)
  event_event_eventtypeToeventtype event[] @relation("event_eventtypeToeventtype")
}

model team {
  teamid    String      @id @db.VarChar(12)
  teamname  String      @db.VarChar(255)
  subregion String?     @db.VarChar(64)
  country   String      @db.VarChar(40)
  teamaward teamaward[]
}

model teamaward {
  teamid         String   @db.VarChar(12)
  eventid        String   @db.VarChar(16)
  awardid        Int
  isdistrictteam Boolean?
  award          award    @relation(fields: [awardid], references: [awardid], onDelete: NoAction, onUpdate: NoAction)
  event          event    @relation(fields: [eventid], references: [eventid], onDelete: NoAction, onUpdate: NoAction)
  team           team     @relation(fields: [teamid], references: [teamid], onDelete: NoAction, onUpdate: NoAction)

  @@id([teamid, eventid, awardid])
}
